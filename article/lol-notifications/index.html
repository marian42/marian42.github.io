<!doctype html>
<html class="no-js" lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="author" content="Marian Kleineberg">
        <meta name="description" content="Personal blog about programming, game development and space ships.">
        <meta name="keywords" content="">
        <meta name="generator" content="Hugo 0.55.4" />
        <title>
			
				
					Android-Benachrichtigungen auf dem Schreibtisch |
				
				Marian&#39;s Blog
			
		</title>
        <meta name="description" content="Android-Benachrichtigungen auf dem Schreibtisch - Personal blog about programming, game development and space ships.">
        <meta itemprop="name" content="Android-Benachrichtigungen auf dem Schreibtisch">
        <meta itemprop="description" content="Android-Benachrichtigungen auf dem Schreibtisch - Personal blog about programming, game development and space ships.">
        <meta property="og:title" content="Android-Benachrichtigungen auf dem Schreibtisch">
        <meta property="og:description" content="Android-Benachrichtigungen auf dem Schreibtisch - Personal blog about programming, game development and space ships.">
        <meta property="og:image" content="">
        <meta property="og:url" content="https://marian42.de/article/lol-notifications/">
        <meta property="og:site_name" content="Marian&#39;s Blog">
        <meta property="og:type" content="article">
        <link rel="icon" type="image/png" href="https://marian42.de/favicon-32x32.png" sizes="32x32">
        <link rel="icon" type="image/png" href="https://marian42.de/favicon-16x16.png" sizes="16x16">

        
        
        
        
        
        
        <link rel="stylesheet" href="https://marian42.de/sass/combined.min.be1a81634f345dade7451c3046b006070f0163ce7713df4e1d4666d60930e358.css">

        
    </head>
    <body class="bilberry-hugo-theme">
        <header>
    <div class="container">
        <div class="logo">
            <a href="/" class="logo">
                <img src="/marian.png" alt="">
            </a>
        </div>
    </div>
</header>


        <div class="main container">
            
     
    <div class="article-wrapper u-cf single">
        <article class="default article">
    <div class="content">
    <h1 class="article-headline"><a href="/article/lol-notifications/">Android-Benachrichtigungen auf dem Schreibtisch</a></h1>
    
		<div class="meta">
    		<span class="date">February 16, 2014</span>
		</div>
    

    
        <a href="/article/lol-notifications/head.jpg" target="_blank" title="">
	<img src="/article/lol-notifications/head_hu62b125b0943eacf79c09ac008a130c4d_702183_636x0_resize_q75_box.jpg" width="636" alt="">
</a>



<p>Das Ziel dieses Projekts ist, Benachrichtigungen von meinem Android-Handy automatisch auf einem <a href="http://jimmieprodgers.com/kits/lolshield/">LoL-Shield</a> (Lots of LEDs) anzuzeigen. Dazu benutze ich einen Raspberry Pi, der sowieso schon auf meinem Schreibtisch steht, einen Arduino für das Schild und auf dem Handy <a href="https://play.google.com/store/apps/details?id=net.dinglisch.android.taskerm">Tasker</a>, um auf Benachrichtigungen zu reagieren. Sobald eine Benachrichtigung erscheint, passiert folgendes:</p>






<img src="/article/lol-notifications/idea.png" width="625" alt="">



<img src="/article/lol-notifications/png.png" width="186" alt="">



<p>Der Arduino-Sketch zeigt die entsprechenden Icons in 8 Graustufen an. Dazu habe ich ein Java-Programm geschrieben, das PNG-Grafiken mit 14×9 Pixeln in Arrays mit C++-Syntax umrechnet. Werden einzelne Icons per serieller Schnitstelle aktiviert, werden sie auf dem Shield angezeigt und bei mehreren periodisch durchgewechselt.</p>

<p>Der Arduino ist mit dem Raspberry Pi mit drei Kabeln verbunden: 5V, GND und TX. Der TX-Pin des Pi ist mit dem RX Pin des Arduino verbunden. Auf dem Pi läuft ein PHP-Script, das die Befehle an den Arduino weiterleitet. Die einzelnen Befehle für den Arduino können auch mit einem Webinterface ausgelöst werden.</p>

<p>Es gibt eine Demofunktion, die alle Symbole anzeigt:</p>






<img src="/article/lol-notifications/s3.gif" width="160" alt="">



<p>Die Konfiguration mit Tasker gestaltet sich etwas schwieriger, da es keinen Trigger gibt, der bei jeder Benachrichtigung ausgelöst wird und gleichzeitig Rückschlüsse auf Anwendung zulässt, die die Benachrichtigung ausgelöst hat. Deshalb musste ich für jede unterstützte App (Twitter, Facebook, …) einen eigenen Task anlegen, insgesamt 12. Ebenso ist es nicht möglich, mit Tasker auf das Anklicken oder Deaktivieren von Benachrichtigungen zu reagieren. Deshalb werden beim Entsperren des Displays alle Symbole auf dem LoL-Shield deaktiviert und solche, die bei eingeschaltetem Handy-Display erschienen sind, verschwinden nach 40 Sekunden wieder.</p>






<img src="/article/lol-notifications/s1.gif" width="160" alt="">



<p>Unabhängig von den Benachrichtigungen kann das LoL-Shield, wenn keine Icons angezeigt werden, eine Binäruhr anzeigen. Es gibt außerdem die Möglichkeit, Texte zum Arduino zu senden, die dann über das Display scrollen. Dies kann per Web-Interface geschehen oder mit der Benachrichtigungsfunktion kombiniert via Tasker weitere Informationen anzeigen, beispielsweise, wer eine Nachricht gesendet hat.</p>






<img src="/article/lol-notifications/s2.gif" width="160" alt="">



<p>Download: <a href="/article/lol-notifications/lol_notifier.ino">Arduino Skript</a> (benötigt LoL-Shield <a href="http://code.google.com/p/lolshield/">Bibliothek</a>), <a href="/article/lol-notifications/led-api.php.txt">PHP-Skript</a>, (benötigt <a href="https://github.com/Xowap/PHP-Serial">PHP Serial</a>), <a href="/article/lol-notifications/pixelextractor.java">Java Programm</a> für Icons, <a href="/article/lol-notifications/Notification.prj.xml">Tasker-Skript</a></p>
    
</div>

    
<div class="footer">


	
	    
	        <div class="tags">
				tagged
	            <div class="links">
	                
	                    <a href="/tags/android">android</a>
	                
	                    <a href="/tags/arduino">arduino</a>
	                
	                    <a href="/tags/de">de</a>
	                
	                    <a href="/tags/raspberry-pi">raspberry-pi</a>
	                
	                    <a href="/tags/tasker">tasker</a>
	                
	            </div>
	        </div>
	    
	
</div>

</article>

    </div>
	
     

        </div>

        
<footer>
    <div class="container">
		<div class="left">
			
				<a href="/page/imprint/">Imprint</a>&nbsp;
			
			
				<a href="mailto:mail@marian42.de">Contact</a>&nbsp;
			
        </div>
        <div class="right">
            
            <div class="external-profiles">
                
                
                    <a href="https://twitter.com/marian42_" target="_blank"><i class="fa fa-twitter-adblock-proof"></i></a>
                
                
                    <a href="https://github.com/marian42" target="_blank"><i class="fa fa-github"></i></a>
                
				
                    <a href="mailto:mail@marian42.de" target="_blank"><i class="fa fa-envelope"></i></a>
                
				
                    <a href="/index.xml" target="_blank"><i class="fa fa-rss"></i></a>
                
            </div>
            
        </div>
    </div>
</footer>



        
    </body>
</html>
